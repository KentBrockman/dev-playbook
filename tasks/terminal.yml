---
- name: check if dotfiles are installed
  stat:
    path: ~/dotfiles
  register: dotfiles

- name: install dotfiles
  block:
    - name: checkout dotfiles
      git:
        repo: https://github.com/kentbrockman/dotfiles
        dest: ~/dotfiles

    - name: install dotfiles
      command: ~/dotfiles/install.sh
  when: dotfiles.stat.exists == False

- name: Clone oh-my-zsh repo
  git: 
    repo: https://github.com/robbyrussell/oh-my-zsh.git
    dest: ~/.oh-my-zsh

# apply patch to agnoster or copy in custom theme

- name: install terminal related packages
  become: true
  apt:
    pkg:
      - zsh
      # - zsh-completions
      - zsh-autosuggestions
      - tmux

# change default shell
# install powerline font